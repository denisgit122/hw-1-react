<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<link rel="stylesheet" href="style.css">
<body>

</body>
<script>

    let url = new URL(location.href);
    console.log(url);
    let id = url.searchParams.get('id');
    console.log(id);

    fetch(`https://jsonplaceholder.typicode.com/users/${id}`)
        .then(resp => resp.json())
        .then(posts => {

            //4 Вивести всю, без виключення, інформацію про об'єкт user на який клікнули
            let boxhead = document.createElement('div')
            boxhead.classList.add('boxhead')
            document.body.append(boxhead)

            let box = document.createElement('div')
            box.classList.add('box')
            boxhead.append(box)

            let div = document.createElement('div')
            div.classList.add('div')

            let id = document.createElement('h2');
            id.innerText = `id-${posts.id}`

            let name = document.createElement('h2');
            name.classList.add('name')
            name.innerText = `name-${posts.name};`
            div.append(id, name)

            let info = document.createElement('div')
            info.classList.add('info')
            let username = document.createElement('h3');
            username.classList.add('username')
            username.innerText = `username- ${posts.username}`
            let word = document.createElement('h3')
            word.innerText = '     <------------infotmation------->'
            let email = document.createElement('a')
            email.classList.add('email')
            email.innerText=`Element:${posts.email}`
            email.href='mailto:'
           // email.innerText = `email-${posts.email}`
            info.append(username, word, email)

            let divFlex = document.createElement('div')
            divFlex.classList.add('divFlex')


            let addres = document.createElement('div')
            addres.classList.add('addres')

            let wordAddres = document.createElement('h2')
            wordAddres.innerText = 'addres: '

            let street = document.createElement('h4')
            street.innerText = `street-${posts.address.street}`


            let suite = document.createElement('h4')
            suite.innerText = `suite-${posts.address.suite} `

            let city = document.createElement('h4')
            city.innerText = `street-${posts.address.city}`

            let zipcode = document.createElement('h4')
            zipcode.innerText = `street-${posts.address.zipcode}`

            let geo = document.createElement('h3')
            geo.innerText = `geo-lat${posts.address.geo.lat}  +' geo-lng${posts.address.geo.lng}`
            addres.append(wordAddres, street, city, zipcode, geo)

            let boxForPhone = document.createElement('div')
            boxForPhone.classList.add('boxForPhone')
            let phoneWebsite = document.createElement('a')
            phoneWebsite.classList.add('photo')
            phoneWebsite.href='tel:'
            phoneWebsite.innerText = `phone-${posts.phone}`;

            website=document.createElement('a')
            website.classList.add('web')
            website.innerText = website.href='https://abtei-st-hildegard.de/hildegard-von-bingen/';
            website.innerText=`websise: ${posts.website}`
            boxForPhone.append(phoneWebsite,website)


            let company = document.createElement('div')
            company.classList.add('addres')
            let companyName = document.createElement('h3')
            companyName.innerText = `name-${posts.company.name}`
            let companycatchPhrase = document.createElement('h3')
            companycatchPhrase.innerText = `name-${posts.company.catchPhrase}`
            let companybs = document.createElement('h3')
            companybs.innerText = `name-${posts.company.bs}`

            company.append(companyName, companycatchPhrase, companybs)
            divFlex.append(addres, boxForPhone, company)
             box.append(div, info, divFlex,);










            box.append(div, info, divFlex,but,inp,divTitle);
            divTitle.append()




            console.log(posts);



            let href=document.createElement('a')
            href.classList.add('href2')
            href.innerText='next-Page'
            href.href=`post.html?id=${posts.id}`
            boxhead.append(href)

        });




    let but=document.createElement('button')
    but.classList.add('but')
    but.innerText="post of current user"
    // document.body.append(but)
    let inp=document.createElement('input')
    inp.classList.add('inp')
    inp.type='checkbox'

    let divTitle=document.createElement('div')
    //document.body.append(divTitle)


    but.addEventListener('click',function () {


        if (document.querySelector('.inp').checked) {
            document.querySelector('.boxhead').classList.toggle('active')

            fetch(`https://jsonplaceholder.typicode.com/users/${id}/posts`)

                .then(value => value.json())
                .then(title => {


                    for (const titleElement of title) {
                        console.log(titleElement);
                        let li=document.createElement('li')
                        li.classList.add('li')
                        li.innerText=`${titleElement.title}`
                        divTitle.append(li)
                    }
                })
        }else {
            document.querySelector('.boxhead').classList.toggle('no')
            divTitle.innerText=''}

    })


</script>
</html>