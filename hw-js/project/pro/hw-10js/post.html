<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<link rel="stylesheet" href="style.css">

<body>

</body>

<script>
    let url = new URL(location.href);
    console.log(url);
    let id = url.searchParams.get('id');
    console.log(id);


    let headSlide=document.createElement('div')
    headSlide.classList.add('headSlide')
    document.body.append(headSlide)




    let slide=document.createElement('div')
    slide.classList.add('slide')
    slide.innerText='post:'
        headSlide.append(slide)

    let headBox=document.createElement('div')
    headBox.classList.add('headBox')
    slide.append(headBox)

    fetch(`https://jsonplaceholder.typicode.com/users/${id}/posts`)
        .then((response)=>response.json())
        .then((users)=>{
            for (const user of users) {
                console.log(user);
                let addBox=document.createElement('div')
                addBox.classList.add('addBox')
                headBox.appendChild(addBox)

                let boxId=document.createElement('div')
                boxId.classList.add('boxId')

                    let userId=document.createElement('h2')
                    userId.classList.add('userId')
                    userId.innerText=`userId-${user.userId}`
                    let divPost=document.createElement('h2')
                    divPost.classList.add('divPost')
                    divPost.innerText=`id-${user.id}`

                let title=document.createElement('div')
                title.classList.add('title')
                title.innerText=`Title-${user.title}`

                boxId.append(divPost,userId)

let body=document.createElement('div')
                body.innerText=`body-${user.body}`
                body.classList.add('body')

                addBox.append(boxId,title,body)



            }


            let next=document.createElement('div')
            next.classList.add('next')
            slide.append()

            let back=document.createElement('div')
            back.classList.add('back')
            slide.append(next,back)


            let headBox2=document.querySelector('.headBox')
            let next2=document.querySelector('.next')
            let offset=0;
            //
            next2.addEventListener('click',function () {
                offset=offset+302
    if (offset>2700){
        offset=0
    }
    headBox2.style.left=-offset+'px'
            })

            let back2=document.querySelector('.back')
            back2.onclick=function () {
                offset=offset-302
                if (offset<-20){
                    offset=2720
                }headBox2.style.left=-offset+'px'
            }
        })


fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`)
    .then(value => value.json())
    .then(title => {
let headComBox=document.createElement('div')
        headComBox.classList.add('headComBox')
        headSlide.append(headComBox)

        for (const titleElement of title) {
            console.log(title);

            let comen=document.createElement('div')
            comen.classList.add('comen')
            headComBox.append(comen)

            let comenId=document.createElement('div')
            comenId.classList.add('comenId')
            comenId.innerText=`Id-${titleElement.id} ,+" "+  postId-${titleElement.postId}`

            let comenEmail=document.createElement('div')
            comenEmail.classList.add('Emain')

            let a=document.createElement('a')
            a.classList.add('a')
            a.innerText=`Element:${titleElement.email}`
            a.href='mailto:'
comenEmail.append(a)

            let body=document.createElement('div')
            body.classList.add('body')
            body.innerText=`${titleElement.body}`








            comen.append(comenId,comenEmail,body)


        }
        let but=document.createElement('button')
        but.innerText='back-page'
        but.classList.add('back-page')
        // form=document.createElement('form')
        // form.action=`details.html`
        // form.append(but)
        // headSlide.append(form)
    })



</script>

</html>